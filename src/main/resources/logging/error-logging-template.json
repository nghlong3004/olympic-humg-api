{
  "@timestamp" : {
    "$resolver": "timestamp",
    "pattern": {
      "format": "yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
      "timeZone": "UTC",
      "locale": "en_US"
    }
  },
  "log": {
    "level": {
      "$resolver": "level",
      "field": "name"
    }
  },
  "tags": ["${spring:spring.profiles.active}"],
  "trace.id": {"$resolver": "mdc", "key": "trace_id"},
  "span.id": {"$resolver": "mdc", "key": "span_id"},
  "trace.dd_id": {"$resolver": "mdc", "key": "dd.trace_id"},
  "span.dd_id": {"$resolver": "mdc", "key": "dd.span_id"},
  "error": {
    "type": {
      "$resolver": "exception",
      "field": "className"
    },
    "message": {
      "$resolver": "message"
    },
    "stack_trace":{
      "$resolver": "exceptionRootCause",
      "field": "stackTrace",
      "stackTrace": {
        "stringified": {
          "truncation": {
            "suffix": ":: end of stacktrace",
            "pointMatcherRegexes": [
              "^Caused by",
              "\\.\\.\\. \\d+ more"
            ]
          }
        }
      }
    }
  }
}
